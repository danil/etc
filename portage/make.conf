# -*- coding: utf-8; -*-
# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.

# Danil <https://wiki.gentoo.org/wiki//etc/portage/make.conf>.
# The CFLAGS and CXXFLAGS variables define the optimization flags for
# the gcc C and C++ compiler respectively.
# <http://gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&chap=5&style=printable#doc_chap4_sect2>,
# <http://gentoo.org/doc/en/gcc-optimization.xml?style=printable>,
# <http://en.gentoo-wiki.com/wiki/Safe_Cflags>,
# <http://en.gentoo-wiki.com/wiki/Safe_Cflags/Intel>,
# <http://en.gentoo-wiki.com/wiki/Lenovo_ThinkPad_T400#Installation_Prep>,
# <http://www.linode.com/wiki/index.php/Gentoo#Switch_profiles>,
# <http://www.laozhu.me/2013/04/install-gentoo-on-linode/>.
# Examining CPU information `cat /proc/cpuinfo`.
# For intel haswel i7 GCC 4.8 users can set -march=core-avx2
# <http://wiki.gentoo.org/wiki/Lenovo_ThinkPad_T440s#Compiler_flags>
CFLAGS="-march=core-avx2 -O2 -pipe"
CXXFLAGS="${CFLAGS}"

# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult <http://gentoo.org/doc/en/change-chost.xml?style=printable>
# before changing.

# Examining CPU information `grep flags /proc/cpuinfo`.
CPU_FLAGS_X86="abm acpi aes aperfmperf apic arat arch_perfmon avx avx2 bmi1 bmi2 bts clflush cmov constant_tsc cx16 cx8 de ds_cpl dtes64 dtherm dts eagerfpu epb ept erms est f16c flexpriority fma fpu fsgsbase fxsr ht ida invpcid lahf_lm lm mca mce mmx monitor movbe msr mtrr nonstop_tsc nopl nx pae pat pbe pcid pclmulqdq pdcm pdpe1gb pebs pge pln pni popcnt pse pse36 pts rdrand rdtscp rep_good sep smep ss sse sse2 sse4_1 sse4_2 ssse3 syscall tm tm2 tpr_shadow tsc tsc_adjust tsc_deadline_timer vme vmx vnmi vpid xsave xsaveopt xtopology xtpr"

CHOST="x86_64-pc-linux-gnu"
# How many parallel compilations should occur when you install a
# package? Usually, the number of processors + 1 is a good value.
# <http://gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&chap=5&style=printable#doc_chap4_sect3>,
# <http://gentoo.org/doc/en/gentoo-x86-quickinstall.xml?style=printable#doc_chap2_pre33>,
# <http://unix.stackexchange.com/questions/51815/why-people-recommend-the-j3-option-for-make-when-having-a-dual-core-cpu#51861>,
# <http://en.gentoo-wiki.com/wiki/Lenovo_ThinkPad_T400#Installation_Prep>.
MAKEOPTS="-j9"

# Portage's Configuration File Protection
# <http://gentoo.org/doc/en/handbook/handbook-amd64.xml?part=3&chap=2&style=printable#doc_chap3>,
# man emerge(1) CONFIGURATION FILES.
CONFIG_PROTECT="/boot /home /usr/lib/urxvt/perl"
CONFIG_PROTECT_MASK="-/etc/env.d"

# Caching compilation intermediate results and fetch the source files
# for the next package in the list even while it is compiling another
# package
# <http://gentoo.org/doc/en/handbook/handbook-amd64.xml?part=2&chap=3&style=printable#doc_chap3>,
# <http://gentoo.org/doc/en/handbook/handbook-amd64.xml?part=2&chap=3&style=printable#doc_chap5_sect1>.
FEATURES="ccache parallel-fetch"
CCACHE_SIZE="4G"

# Set PORTDIR for backward compatibility with various tools:
#   gentoo-bashcomp - bug #478444
#   euse - bug #474574
#   euses and ufed - bug #478318
PORTDIR="/usr/portage"

DISTDIR="${PORTDIR}/distfiles"
PKGDIR="${PORTDIR}/packages"

# Prefered nearby mirrors
# <http://gentoo.org/main/en/mirrors2.xml#Russia>,
# <http://gentoo.org/doc/en/gentoo-x86-quickinstall.xml?style=printable#doc_chap2_sect17>.
GENTOO_MIRRORS="http://mirror.yandex.ru/gentoo-distfiles/ ${GENTOO_MIRRORS}"
GENTOO_MIRRORS="ftp://mirror.yandex.ru/gentoo-distfiles/ ${GENTOO_MIRRORS}"

# Gentoo Overlays.
# Layman
# <http://gentoo.org/proj/en/overlays/userguide.xml?style=printable#doc_chap2_pre2>,
# <http://en.gentoo-wiki.com/wiki/Overlay#Using_Overlays_with_Portage_-_Layman>,
# Sunrise <http://overlays.gentoo.org/proj/sunrise>.
source /var/lib/layman/make.conf

# Display server VIDEO_CARDS is an alias for x11-drivers/xf86-video-* packages
# <http://gentoo.org/doc/en/xorg-config.xml?style=printable#doc_chap2>,
# <http://wiki.gentoo.org/wiki/Xorg/Configuration#make.conf_configuration>,
# <http://wiki.gentoo.org/wiki/Intel>,
# <http://wiki.gentoo.org/wiki/Nouveau>.
VIDEO_CARDS="intel vesa"

# Display server INPUT_DEVICES is an alias for the x11-drivers/xf86-input-* packages
# <http://gentoo.org/doc/en/xorg-config.xml?style=printable#doc_chap2>,
# <http://en.gentoo-wiki.com/wiki/X.Org/Input_drivers#INPUT_DEVICES>.
INPUT_DEVICES="evdev keyboard mouse synaptics"

# LINGUAS affects to localisation files that get installed in
# gettext-based programs, and decides used localisation for some
# specific software packages, such as kde-base/kde-l10n,
# app-office/openoffice and www-client/mozilla-firefox
# <http://gentoo.org/doc/en/guide-localization.xml?style=printable#doc_chap3_pre6>,
# <http://ru.gentoo-wiki.com/wiki/Полная_поддержка_русского_языка#Firefox.2C_OpenOffice_.D0.B8_.D0.BD.D0.B5.D0.BA.D0.BE.D1.82.D0.BE.D1.80.D1.8B.D0.B5_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5>.
LINGUAS="en_US en ru_RU ru"

# Temporary Portage Files
# <http://gentoo.org/doc/en/handbook/handbook-amd64.xml?part=3&chap=1&style=printable#doc_chap3_sect1>.
#PORTAGE_TMPDIR="/var/tmp"

# USE flags.
# These are the USE flags that were used in addition to what is provided by the
# profile used for building.

# Localization.
# For message based localization to work in programs that support it
# <http://gentoo.org/doc/en/guide-localization.xml?style=printable#doc_chap3_pre3>,
# <http://ru.gentoo-wiki.com/wiki/Полная_поддержка_русского_языка#unicode>.
USE="nls ${USE}"
# Build only specified locales
# <http://ru.gentoo-wiki.com/wiki/Полная_поддержка_русского_языка#userlocales>.
USE="userlocales ${USE}"
# UTF-8.
# <http://gentoo.org/doc/en/utf-8.xml?style=printable#doc_chap3_sect4>,
# <http://ru.gentoo-wiki.com/wiki/Полная_поддержка_русского_языка#baselayout>.
USE="unicode ${USE}"

# Network.
# Wireless.
USE="wifi ${USE}"
# USE="madwifi ${USE}"
USE="bluetooth ${USE}"

# <http://en.gentoo-wiki.com/wiki/Lenovo_ThinkPad_T400#Installation_Prep>.
USE="laptop ${USE}"

USE="zlib bash-completion readline ${USE}"

# ffmpeg/libav conflict management
# <http://wiki.gentoo.org/wiki/Ffmpeg>,
# <http://wiki.gentoo.org/wiki/Libav>,
# <https://www.gentoo.org/support/news-items/2015-04-16-ffmpeg-default.html>,
# <https://forums.gentoo.org/viewtopic-t-1009988.html>.
USE="ffmpeg -libav ${USE}"

# USE="branding ${USE}" #overhead?
USE="pdf djvu spell grammar xv svga ${USE}"

# Gstreamer.
# Если необходимые плагины не собираются и нет звука в приложениях, то
# добавить пакет gst-plugins-meta в зависимоти
# `echo "media-plugins/gst-plugins-meta" >> /var/lib/portage/world`.
USE="gstreamer ${USE}"

USE="gif jpeg png tiff xpm svg cairo ${USE}"
USE="mad mp3 ogg vorbis flac mpeg ${USE}"

# ALSA.
# <http://gentoo.org/doc/en/alsa-guide.xml?style=printable#doc_chap3_sect7>.
USE="alsa ${USE}"
# MIDI <http://gentoo.org/doc/en/alsa-guide.xml?style=printable#doc_chap4>.
USE="midi ${USE}"

# X.Org.
# <http://en.gentoo-wiki.com/wiki/X.Org#USE_Flags>.
USE="xorg dri ${USE}"
# <http://en.gentoo-wiki.com/wiki/X.Org#USE_Flags>,
# <http://en.gentoo-wiki.com/wiki/Graphics_drivers#Direct_.26_Indirect_Rendering>,
# <http://en.gentoo-wiki.com/wiki/ALSA#ALSA_Userspace>.
USE="-minimal ${USE}"
USE="opengl X ${USE}"
# <http://en.gentoo-wiki.com/wiki/HAL#Using_HAL>,
# <http://en.gentoo-wiki.com/wiki/Lenovo_ThinkPad_T400#Installation_Prep>,
# <http://gentoo.org/proj/en/desktop/x/x11/xorg-server-1.9-upgrade-guide.xml?style=printable>.
USE="hal dbus udev ${USE}"
# <https://wiki.archlinux.org/index.php/Udiskie#Consolekit_.28recommended.29>,
# <https://wiki.archlinux.org/index.php/ConsoleKit>.
USE="consolekit ${USE}"
# Use the PolicyKit framework (sys-auth/polkit) to get authorization
# for suspend/shutdown.
USE="policykit ${USE}"
USE="truetype cleartype xft ${USE}"
# Desktop notification support.
USE="libnotify ${USE}"
# # Gnome <http://gentoo.org/doc/en/gnome-config.xml?style=printable#doc_chap2_pre1>
# USE="gnome ${USE}"
# # Audio <http://forums.gentoo.org/viewtopic-p-7104346.html#7104346>.
# USE="pulseaudio ${USE}"
# Gnome.
USE="gnome-keyring ${USE}"
USE="-networkmanager ${USE}"

# Power management
# <http://gentoo.org/doc/en/power-management-guide.xml#doc_chap2_sect3>.
USE="acpi apm pmu ${USE}"
# Lm sensors
# <http://en.gentoo-wiki.com/wiki/Lm_sensors>.
#USE="lm_sensors ${USE}"
# Webcam
# <http://en.gentoo-wiki.com/wiki/Webcam#Testing>,
# <http://en.gentoo-wiki.com/wiki/Webcam#Viewing>.
USE="v4l v4l2 ${USE}"
# Recording video
# <http://en.gentoo-wiki.com/wiki/Webcam#Recording>.
#USE="encode ${USE}"

# Xfce
# <http://wiki.gentoo.org/wiki/Xfce#Installation>.
XFCE_PLUGINS=""
